<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.4"?>
<plugin>
    <extension
          point="org.eclipse.core.contenttype.contentTypes">
       <content-type
             base-type="org.eclipse.core.runtime.text"
             file-extensions="txt"
             file-names="CMakeLists.txt"
             id="de.marw.cdt.cmake.core.cmakelists.txt"
             name="CMake script">
       </content-type>
    </extension>

   <extension
         point="org.eclipse.cdt.managedbuilder.core.buildDefinitions">
      <managedBuildRevision
            fileVersion="4.0.0">
      </managedBuildRevision>
      <builder
            autoBuildTarget="all"
            buildRunner="org.eclipse.cdt.managedbuilder.core.ExternalBuildRunner"
            buildfileGenerator="de.marw.cdt.cmake.core.internal.CMakeMakefileGenerator"
            cleanBuildTarget="clean"
            command="make"
            errorParsers="de.marw.cdt.cmake.core.CMakeErrorParser;org.eclipse.cdt.core.MakeErrorParser"
            id="de.marw.cdt.cmake.core.genmakebuilder"
            ignoreErrCmd="-k"
            incrementalBuildTarget="all"
            isSystem="false"
            isVariableCaseSensitive="true"
            name="CMake make builder">
      </builder>
   </extension>
   <!-- project settings UI   -->
  
    <extension
         point="org.eclipse.ui.propertyPages">
        <page
              category="org.eclipse.cdt.managedbuilder.ui.properties.Page_head_build"
              class="de.marw.cdt.cmake.core.ui.CMakePropertyPage"
              id="de.marw.cdt.cmake.core.ui.CMakePropertyPage"
              name="CMake">
         <enabledWhen>
           <adapt type="org.eclipse.core.resources.IResource">
	            <test property="org.eclipse.core.resources.projectNature"
	                  value="org.eclipse.cdt.managedbuilder.core.managedBuildNature"/>
           </adapt>
         </enabledWhen>
        </page>    
        <page
              category="de.marw.cdt.cmake.core.ui.CMakePropertyPage"
              class="de.marw.cdt.cmake.core.ui.HostOSPropertyPage"
              id="de.marw.cdt.cmake.core.ui.HostOSPropertyPage"
              name="Host OS overrides">
        </page>    
  </extension>
   <extension
         point="org.eclipse.cdt.ui.cPropertyTab">
      <tab
            class="de.marw.cdt.cmake.core.ui.CMakePropertyTab"
            name="General"
            parent="de.marw.cdt.cmake.core.ui.CMakePropertyPage"
            tooltip="Properties applied on each OS">
      </tab>
      <tab
            class="de.marw.cdt.cmake.core.ui.CMakeSymbolsTab"
            name="Symbols"
            parent="de.marw.cdt.cmake.core.ui.CMakePropertyPage"
            tooltip="Applied on each OS">
      </tab>
      <tab
            class="de.marw.cdt.cmake.core.ui.LinuxPropertyTab"
            name="Linux/default"
            parent="de.marw.cdt.cmake.core.ui.HostOSPropertyPage"
            tooltip="Properties applied on Linux or unkown OS"
            weight="10">
      </tab>
      <tab
            class="de.marw.cdt.cmake.core.ui.WindowsPropertyTab"
            name="Windows"
            parent="de.marw.cdt.cmake.core.ui.HostOSPropertyPage"
            tooltip="Properties applied on windows"
            weight="80">
      </tab>
   </extension>

   <extension
         point="org.eclipse.cdt.core.CBuildConsole">
      <CBuildConsole
            class="de.marw.cdt.cmake.core.ui.CMakeConsole"
            id="de.marw.cdt.cmake.core.cmakeConsole">
      </CBuildConsole>
   </extension>
   <extension
         id="CMakeErrorParser"
         name="CMake Error Parser"
         point="org.eclipse.cdt.core.ErrorParser">
      <errorparser
            class="de.marw.cdt.cmake.core.CMakeErrorParser"></errorparser>
   </extension>
   <extension
         id="problem"
         name="CMake Problem"
         point="org.eclipse.core.resources.markers">
      <super
            type="org.eclipse.core.resources.problemmarker">
      </super>
		<super
			type="org.eclipse.core.resources.textmarker">
		</super>
  <persistent
        value="true">
  </persistent>
   </extension>
 <extension
         point="org.eclipse.cdt.managedbuilder.core.buildProperties">
    <propertyValue
            property="org.eclipse.cdt.build.core.buildArtefactType"
            id="org.eclipse.cdt.build.core.buildArtefactType.UNKONWN"
            name="defined by CMakeLists.txt"/>
   </extension>
            
</plugin>
